---
title: Sårbarhets bedömning i SQL för SQL Server på virtuella Azure-datorer
description: Beskriver SQL sårbarhet-utvärderingen för SQL Server databaser som körs på Azure Virtual Machines.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.subservice: security
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
ms.openlocfilehash: 0f549d19915caa2e4f58ba1987b63c3ed930d1f9
ms.sourcegitcommit: 32e0fedb80b5a5ed0d2336cea18c3ec3b5015ca1
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 03/30/2021
ms.locfileid: "105565494"
---
# <a name="sql-vulnerability-assessment-for-sql-server-on-azure-vms"></a>Sårbarhets bedömning i SQL för SQL Server på virtuella Azure-datorer
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

SQL sårbarhet Assessment (VA) är en tjänst som är enkel att konfigurera som kan upptäcka, spåra och hjälpa dig att åtgärda potentiella databas sårbarheter. Använd den för att proaktivt förbättra databas säkerheten för dina SQL Server på virtuella Azure-datorer. 

Sårbarhets bedömning ingår i [Azure Defender for SQL](../../database/azure-defender-for-sql.md) -erbjudandet, som är ett enhetligt paket för avancerade SQL-säkerhetsfunktioner. Sårbarhets bedömning kan nås och hanteras via den centrala Azure Defender för SQL-portalen eller via Azure Security Center. 

## <a name="overview"></a>Översikt

SQL sårbarhet Assessment (VA) är en tjänst som ger insyn i ditt säkerhets tillstånd. Sårbarhets bedömning innehåller åtgärder som kan vidtas för att lösa säkerhets problem och förbättra databas säkerheten. Det kan hjälpa dig att: 

- Uppfylla kraven för efterlevnad som kräver databas skannings rapporter. 
- Uppfylla data integritets standarder. 
- Övervaka en dynamisk databas miljö där det är svårt att spåra ändringar. 

Sårbarhets bedömning är en skannings tjänst som använder en kunskaps bas med regler som åtgärdar säkerhets sårbarheter. Den visar avvikelser från bästa praxis, till exempel felkonfigurationer, överdriven behörighet och oskyddade känsliga data. 

Reglerna baseras på Microsofts bästa praxis och fokuserar på de säkerhets problem som utgör de största riskerna för din databas och dess värdefulla data. De behandlar problem på databas nivå och säkerhets problem på server nivå, t. ex. inställningar för Server brand väggen och behörigheter på server nivå. Dessa regler motsvarar också många av kraven från olika myndigheter för att uppfylla deras efterlevnad. 

Resultaten av genomsökningen innehåller åtgärds bara steg för att lösa varje problem och tillhandahålla anpassade reparations skript där det är tillämpligt. Du kan anpassa en utvärderings rapport för din miljö genom att ange en acceptabel bas linje för: 

- Behörighets konfiguration 
- Funktions konfiguration 
- Databas inställningar 

## <a name="enable-sql-va"></a>Aktivera SQL VA

Aktivera Azure Defender för SQL-servrar på datorer för att implementera sårbarhets utvärderingen. 

Följ dessa steg om du vill använda Azure Defender för SQL Server:

1. [Installera SQL IaaS agent-tillägget](sql-agent-extension-manually-register-single-vm.md).
1. [Aktivera automatisk etablering av Log Analytics agenten](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma).
1. [Aktivera den valfria Security Centers planen](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page).

Eftersom en sårbarhets bedömning är en del av Azure Defender för SQL, genomsöks dina databaser automatiskt var 12: e timme för att identifiera säkerhets problem när Azure Defender är aktiverat på den virtuella datorn. Resultat skickas till Azure Security Center för en centraliserad aggregerad vy av SQL-datafastigheten som skyddas av Azure Defender för SQL. 

> [!NOTE]
> Genomsökningen är Lightweight, säker, tar bara några sekunder per databas att köra och är helt skrivskyddad. Det gör inga ändringar i databasen. 

## <a name="view-report"></a>Visa rapport

Databas rapporten visar en översikt över ditt säkerhets tillstånd. Den visar hur många problem som har hittats och deras respektive allvarlighets grader. Resultaten innehåller varningar om avvikelser från bästa praxis och en ögonblicks bild av dina säkerhetsrelaterade inställningar, t. ex. databasens huvud namn och roller och deras associerade behörigheter.  

Följ dessa steg om du vill visa rapporten:

1. Gå till [Azure Security Center](https://ms.portal.azure.com/#blade/Microsoft_Azure_Security/SecurityMenuBlade/0) i Azure Portal.
1. Välj **rekommendationer** på menyn **Allmänt** : 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/recommendations-in-security-center.png" alt-text="Gå till rekommendationer under Inställningar i Azure Security Center från Azure Portal":::

1. Rulla ned till rekommendationerna och expandera **åtgärda sårbarheter**.
1. Välj **utvärderings resultat för sårbarhet på dina SQL-servrar på datorerna bör åtgärdas**. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/report-in-security-center.png" alt-text="Visa rapporten på bladet rekommendation i Azure Security Center":::

Den här sidan visar en mängd säkerhets sårbarheter som identifierats för alla SQL Server virtuella datorer i prenumerationen. 


## <a name="analyze-results"></a>Analysera resultat

Granska resultaten och identifiera resultaten i rapporten som är sanna säkerhets problem i din miljö. Öka detalj nivån till varje misslyckat resultat för att förstå effekten av att hitta och varför varje säkerhets kontroll misslyckades.  

:::image type="content" source="media/sql-vulnerability-assessment-enable/sample-report.png" alt-text="Granska resultaten och identifiera resultaten i rapporten som är sanna säkerhets problem i din miljö.":::

## <a name="set-baseline"></a>Ange bas linje 

När du granskar resultatet av utvärderingen kan du markera resultat som en acceptabel bas linje i din miljö. Bas linjen är i grunden en anpassning av hur resultaten rapporteras. Resultat som matchar bas linjen betraktas som att skickas vid efterföljande genomsökningar. När du har fastställt ditt grundläggande säkerhets tillstånd kan du endast rapportera om avvikelser från bas linjen i utlösnings utvärderingen. På så sätt kan du fokusera på de relevanta problemen. 

:::image type="content" source="media/sql-vulnerability-assessment-enable/analyze-report-for-details.png" alt-text="När du granskar resultatet av utvärderingen kan du markera resultat som en acceptabel bas linje i din miljö.":::

## <a name="export-results"></a>Exportera resultat

Använd funktionen för [kontinuerlig export](../../../security-center/continuous-export.md) i Azure Security Center för att exportera resultat från en sårbarhets bedömning till Azure Event Hub eller till Log Analytics arbets ytan. 


## <a name="next-steps"></a>Nästa steg

Läs mer i [SQL sårbarhets Assessment i Azure SQL](../../database/sql-vulnerability-assessment.md)och [försvara dina SQL-data med hjälp av Azure Security Center](../../../security-center/security-center-introduction.md).

